<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8"/>
<head>
    <title>알림장</title>
</head>
<body>
<div style="width: 19cm;min-height: 29.7cm;margin: 0 auto;background:#eee; size: A4; margin: 0;">
    <div class="Header">
        <div style="width: 100%; height: 100%; background: #2E00BC; box-shadow: 0px -1px 0px inset; justify-content: center; align-items: center; display: inline-flex">
            <div style="flex: 1 1 0; height: 40px; padding-left: 10px; padding-right: 10px; justify-content: flex-start; align-items: center;  display: flex">
                <div style="color: white; font-size: 22px; font-family: NanumBarunGothic; font-weight: 400; line-height: 22px; word-wrap: break-word">
                    Notice board
                </div>
            </div>
        </div>
    </div>
    <div class="todayComment" id="todayCommentContainer">
        <!-- 오늘의 총평, 요약 부분 -->
    </div>
    <div style="width: 100%; height: 100%; padding-top: 20px; flex-direction: column; justify-content: flex-start; align-items: center; display: inline-flex">
        <div style="padding-bottom: 20px; padding-left: 20px; padding-right: 20px; background: #E7EBF0; border-radius: 10px; flex-direction: column; justify-content: center; align-items: flex-start; gap: 12px; display: flex">
            <div style="justify-content: flex-start; align-items: flex-start; display: inline-flex">
                <div style="width: 84px; height: 54px; padding: 10px; background: #7F5AF0; border-radius: 10px; justify-content: center; align-items: center; gap: 10px; display: flex">
                    <div style="color: white; font-size: 22px; font-family: NanumBarunGothic; font-weight: 400; line-height: 22px; word-wrap: break-word"
                         th:text="${date}">
                    </div>
                </div>
                <div style="width: 400px; height: 54px; padding: 10px; background: white; border-top-left-radius: 10px; border-top-right-radius: 10px; justify-content: center; align-items: center; gap: 10px; display: flex">
                    <div style="color: black; font-size: 24px; font-family: NanumBarunGothic; font-weight: 500; line-height: 24px; letter-spacing: 0.24px; word-wrap: break-word">
                        요약
                    </div>
                </div>
            </div>
            <div style="width: 630px; height: 124px; padding: 10px; background: white; box-shadow: 0px 4px 4px inset; border-radius: 10px; border: 1px #0047B3 solid; justify-content: flex-start; align-items: center; gap: 10px; display: inline-flex">
                <div style="color: #0047B3; font-size: 16px; font-family: NanumBarunGothic; font-weight: 600; line-height: 24px; letter-spacing: 0.16px; word-wrap: break-word"
                     th:text="${content}"></div>
            </div>
        </div>
    </div>

    <div th:each="lto, iStat : ${lto}">
        <div style="align-self: stretch; flex: 1 1 0; padding-top: 16px; padding-bottom: 24px; padding-left: 16px; padding-right: 16px; flex-direction: column; justify-content: flex-start; align-items: center; gap: 8px; display: flex">
            <div style="padding-bottom: 20px; padding-left: 20px; padding-right: 20px; background: #E7EBF0; border-radius: 10px; flex-direction: column; justify-content: center; align-items: flex-start; gap: 12px; display: flex">
                <div style="justify-content: flex-start; align-items: flex-start; display: inline-flex">
                    <div style="width: 84px; height: 54px; padding: 10px; background: #7F5AF0; border-radius: 10px; justify-content: center; align-items: center; gap: 10px; display: flex">
                        <div style="color: white; font-size: 22px; font-family: NanumBarunGothic; font-weight: 400; line-height: 22px; word-wrap: break-word">LTO</div>
                    </div>
                    <div style="width: 400px; height: 54px; padding: 10px; background: white; border-bottom-right-radius: 10px; border-top-right-radius: 10px; justify-content: center; align-items: center; gap: 10px; display: flex">
                        <div style="color: black; font-size: 24px; font-family: NanumBarunGothic; font-weight: 500; line-height: 24px; letter-spacing: 0.24px; word-wrap: break-word"
                             th:text="${lto.title}">
                        </div>
                    </div>
                </div>
                <div style="width: 630px; height: 124px; padding: 10px; background: white; box-shadow: 0px 4px 4px inset; border-radius: 10px; border: 1px #0047B3 solid; justify-content: flex-start; align-items: center; gap: 10px; display: inline-flex">
                    <div style="color: #0047B3; font-size: 16px; font-family: NanumBarunGothic; font-weight: 600; line-height: 24px; letter-spacing: 0.16px; word-wrap: break-word"
                         th:text="${lto.content}">
                    </div>
                    <div th:each="sto, iStat : ${lto.stoArray}" th:style="'width: 150px; height: 300px; position: absolute; left: ' + ${iStat.index*190} + 'px; top: 0px;'">
                        <div style="width: 160px; height: 300px; position: absolute; left: 0px; top: 0px; background: white; box-shadow: 0px 4px 4px; border-radius: 10px;"></div>
                        <div style="width: 160px; height: 300px; position: absolute; left: 2px; top: 46.95px;">
                            <div style="width: 160px; height: 300px;">
                                <canvas th:id="'myChart_' + ${iStat.index+1}" width="130" height="200"></canvas>
                            </div>
                        </div>
                        <div style="width: 120px; height: 25.52px; position: absolute; left: 29.97px; top: 384px; justify-content: flex-start; align-items: flex-start; gap: 2px; display: inline-flex"></div>
                        <div style="width: 240px; position: absolute; left: 12.11px; top: 23.24px; color: black; font-size: 14px; font-family: NanumBarunGothic; font-weight: 600; line-height: 15px; word-wrap: break-word"
                             th:text="${sto.name}">

                            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                            <script th:inline="javascript">
                                /*<![CDATA[*/
                                function createLineChart(id, labels, data) {
                                    const config = {
                                        type: 'line',
                                        data: {
                                            labels: labels,
                                            datasets: [{
                                                label: '',
                                                data: data.plusRate,
                                                fill: false,
                                                borderColor: 'rgba(52, 198, 72, 1)',
                                                tension: 0.1
                                            }, {
                                                label: '',
                                                data: data.minusRate,
                                                fill: false,
                                                borderColor: 'rgba(252, 187, 64, 1)',
                                                tension: 0.1
                                            }]
                                        },
                                        options: {
                                            plugins: {
                                                legend: {
                                                    display: false
                                                }
                                            }
                                        }
                                    };
                                    var myChart = new Chart(document.getElementById(id), config);
                                }

                                // Usage
                                createLineChart('myChart_' /*[[${iStat.index+1}]]*//*[[${sto.date}]]*//*[[${sto}]]*/);
                                /*]]>*/
                            </script>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
</body>
</html>